{"version":3,"sources":["C:/Users/X/Documents/app/src async","C:/Users/X/Documents/app/src/app/app-routing.module.ts","C:/Users/X/Documents/app/src/app/app.component.css","C:/Users/X/Documents/app/src/app/app.component.html","C:/Users/X/Documents/app/src/app/app.component.ts","C:/Users/X/Documents/app/src/app/app.module.ts","C:/Users/X/Documents/app/src/app/coin.ts","C:/Users/X/Documents/app/src/app/product.ts","C:/Users/X/Documents/app/src/app/vending-machine.component.html","C:/Users/X/Documents/app/src/app/vending-machine.component.ts","C:/Users/X/Documents/app/src/app/vending-machine.service.ts","C:/Users/X/Documents/app/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"../../../../../src async recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/X/Documents/app/src async\n// module id = ../../../../../src async recursive\n// module chunks = 1","import { NgModule }             from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { VendingMachineComponent }   from './vending-machine.component';\n\nconst routes: Routes = [\n  { path: '', redirectTo: '/vending-machine', pathMatch: 'full' },\n  { path: 'vending-machine',  component: VendingMachineComponent }\n];\n\n@NgModule({\n  imports: [ RouterModule.forRoot(routes) ],\n  exports: [ RouterModule ]\n})\nexport class AppRoutingModule {}\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/X/Documents/app/src/app/app-routing.module.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"h1 {\\n  font-size: 1.2em;\\n  color: #999;\\n  margin-bottom: 0;\\n}\\nh2 {\\n  font-size: 2em;\\n  margin-top: 0;\\n  padding-top: 0;\\n}\\nnav a {\\n  padding: 5px 10px;\\n  text-decoration: none;\\n  margin-top: 10px;\\n  display: inline-block;\\n  background-color: #eee;\\n  border-radius: 4px;\\n}\\nnav a:visited, a:link {\\n  color: #607D8B;\\n}\\nnav a:hover {\\n  color: #039be5;\\n  background-color: #CFD8DC;\\n}\\nnav a.active {\\n  color: #039be5;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/X/Documents/app/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = 1","module.exports = \"<router-outlet></router-outlet>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/X/Documents/app/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = 1","import { Component }          from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'Vending Machine';\n}\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/X/Documents/app/src/app/app.component.ts","import { NgModule }      from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule }   from '@angular/forms';\nimport { HttpModule }    from '@angular/http';\n\nimport { AppRoutingModule } from './app-routing.module';\n\n// Imports for loading & configuring the in-memory web api\n\nimport { AppComponent }         from './app.component';\nimport { VendingMachineComponent }   from './vending-machine.component';\n\nimport { VendingMachineService } from './vending-machine.service';\n\n@NgModule({\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    AppRoutingModule\n  ],\n  declarations: [\n    AppComponent,\n    VendingMachineComponent\n  ],\n  providers: [ VendingMachineService ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/X/Documents/app/src/app/app.module.ts","export class Coin {\r\n    constructor(\r\n        readonly id: number,\r\n        readonly title: string,\r\n        readonly amount: number,\r\n        public count: number\r\n    ) {\r\n    }\r\n\r\n    get totalAmount(): number {\r\n        return this.amount * this.count;\r\n    }\r\n}\r\n\r\nexport function push(pocket: Coin[], coinId:number): Coin[] {\r\n    let coin = pocket.find(c => c.id == coinId);\r\n    coin.count++;\r\n    return pocket;\r\n}\r\n\r\nexport function merge(pocket: Coin[], coins: Coin[]): Coin[] {\r\n    for(let c of coins) {\r\n        let pocketCoin = pocket.find(p => p.id == c.id);\r\n        pocketCoin.count += c.count;\r\n    }\r\n    return pocket;\r\n}\n\n\n// WEBPACK FOOTER //\n// C:/Users/X/Documents/app/src/app/coin.ts","export class Product {\r\n    constructor(\r\n        readonly id: number,\r\n        readonly name: string,\r\n        readonly price: number,\r\n        public count: number\r\n    ) {\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// C:/Users/X/Documents/app/src/app/product.ts","module.exports = \"<h4>Кошелёк пользователя ({{userAmount}})</h4>\\r\\n<div>\\r\\n  <span *ngFor=\\\"let coin of userPocket\\\">\\r\\n      <button [disabled]='coin.count == 0' (click)='push(coin)'>{{coin.amount}} ({{coin.count}})</button>\\r\\n    </span>\\r\\n</div>\\r\\n<h4>Внесенно: {{pendingAmount}}</h4>\\r\\n<h4 *ngIf=\\\"showMessage\\\">Сообщение: {{message}}</h4>\\r\\n<button (click)='change()'>Сдача</button>\\r\\n<h4>Кошелёк машины ({{machineAmount}})</h4>\\r\\n<div> |\\r\\n  <span *ngFor=\\\"let coin of machinePocket\\\">\\r\\n      <span>{{coin.amount}} ({{coin.count}}) |</span>\\r\\n    </span>\\r\\n</div>\\r\\n<h4>Товары</h4>\\r\\n<div>\\r\\n  <span *ngFor=\\\"let product of products\\\">\\r\\n      <button [disabled]='product.count == 0' (click)='buy(product)'>{{product.name}} - {{product.price}} ({{product.count}})</button>\\r\\n    </span>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/X/Documents/app/src/app/vending-machine.component.html\n// module id = ../../../../../src/app/vending-machine.component.html\n// module chunks = 1","import { Component, OnInit } from '@angular/core';\nimport { VendingMachineService } from './vending-machine.service';\nimport { Product } from './product';\nimport { Coin } from './coin';\n\n@Component({\n\tselector: 'vending-machine',\n\ttemplateUrl: 'vending-machine.component.html'\n})\n\nexport class VendingMachineComponent implements OnInit {\n\n\tget products(): Product[] {\n\t\treturn this.vendingMachineService.products;\n\t} \t\n\t\n\tget userPocket(): Coin[] {\n\t\treturn this.vendingMachineService.userPocket.sort((a,b) => a.amount - b.amount);\n\t} \t\n\n\tget userAmount(): number {\n\t\tvar x = 0;\n\t\tfor (let c of this.vendingMachineService.userPocket){\n\t\t\tx += c.totalAmount;\n\t\t}\n\t\treturn x;\n\t}\n\t\n\tget machinePocket(): Coin[] {\n\t\treturn this.vendingMachineService.machinePocket.sort((a,b) => a.amount - b.amount);\n\t} \n\n\tget machineAmount(): number {\n\t\tvar x = 0;\n\t\tfor (let c of this.vendingMachineService.machinePocket){\n\t\t\tx += c.totalAmount;\n\t\t}\n\t\treturn x;\n\t}\n\n\tget pendingAmount(): number {\n\t\treturn this.vendingMachineService.pendingAmount;\n\t} \n\n\tmessage: string = null;\n\t\n\tget showMessage(): boolean {\n\t\treturn this.message !== null;\n\t}\n\n\tconstructor(private vendingMachineService: VendingMachineService) {\n\n\t}\n\n\tngOnInit() { }\n\n\tpush(coin: Coin) {\n\t\tthis.vendingMachineService.pushCoin(coin);\n\t\tthis.message = null;\n\t}\n\n\tchange(): void {\n\t\tthis.vendingMachineService.getChange();\n\t\tthis.message = null;\n\t}\n\n\tbuy(product: Product) {\n\t\tif (!this.vendingMachineService.getProduct(product.id)) {\n\t\t\tthis.message = 'Недостаточно денег';\n\t\t}\n\t\telse {\n\t\t\tthis.message = 'Спасибо!';\n\t\t}\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// C:/Users/X/Documents/app/src/app/vending-machine.component.ts","import { Injectable } from '@angular/core';\r\nimport { Coin, push, merge } from './coin';\r\nimport { Product } from './product';\r\n\r\n@Injectable()\r\nexport class VendingMachineService {\r\n    \r\n    userPocket: Coin[] = [\r\n        new Coin(1, '', 1, 10),\r\n        new Coin(2, '', 2, 30),\r\n        new Coin(5, '', 5, 20),\r\n        new Coin(10, '', 10, 15),\r\n    ];\r\n\r\n    machinePocket: Coin[] = [\r\n        new Coin(1, '', 1, 100),\r\n        new Coin(2, '', 2, 100),\r\n        new Coin(5, '', 5, 100),\r\n        new Coin(10, '', 10, 100),\r\n    ];\r\n\r\n    products: Product[] = [\r\n        new Product(13, 'Чай', 13, 10),\r\n        new Product(18, 'Кофе', 18, 20),\r\n        new Product(21, 'Кофе с молоком', 21, 20),\r\n        new Product(35, 'Сок', 35, 15),\r\n    ];\r\n\r\n    get pendingAmount(): number {\r\n        return this.pendingAmountValue;\r\n    }\r\n\r\n    pushCoin(coin: Coin): void {\r\n        this.userPocket.find(p => p.id == coin.id).count--;\r\n        this.pendingAmountValue += coin.amount;\r\n        push(this.machinePocket, coin.id);\r\n    }\r\n\r\n    getProduct(id: number): boolean {\r\n        var product = this.products.find(p => p.id == id);\r\n        if (this.pendingAmount < product.price || product.count < 1) {\r\n            return false;\r\n        }\r\n        product.count--;\r\n        this.pendingAmountValue -= product.price;\r\n\r\n        return true;\r\n    }\r\n\r\n    getChange(): boolean {\r\n        var changeAmount = this.pendingAmountValue;\r\n        var change: Coin[] = [];\r\n        for(let coin of this.machinePocket.sort((a,b) => b.amount - a.amount)) {\r\n            let x = Math.min(coin.count,  Math.trunc(changeAmount / coin.amount));\r\n            if (x > 0) {                \r\n                let changeCoin = new Coin(coin.id, coin.title, coin.amount, x);\r\n                change.push(changeCoin);\r\n                coin.count -= x;\r\n                changeAmount -=  changeCoin.totalAmount;\r\n                if (changeAmount == 0) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        merge(this.userPocket, change);\r\n        this.pendingAmountValue = changeAmount;\r\n\r\n        return this.pendingAmountValue == 0;\r\n    }\r\n\r\n    private pendingAmountValue: number = 0;\r\n}\n\n\n// WEBPACK FOOTER //\n// C:/Users/X/Documents/app/src/app/vending-machine.service.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/X/Documents/app/src/main.ts"],"sourceRoot":"webpack:///"}